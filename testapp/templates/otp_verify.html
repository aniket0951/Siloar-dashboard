{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <title>Driver Verification</title>
  <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  <link rel="stylesheet" href="{% static 'css/DriverReq.css' %}" />
  <link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

  <script>
    $(document).ready(function () {
      $('a[data-toggle="tab"]').on('show.bs.tab', function (e) {
        localStorage.setItem('activeTab', $(e.target).attr('href'));
      });
      var activeTab = localStorage.getItem('activeTab');
      if (activeTab) {
        $('#myTab a[href="' + activeTab + '"]').tab('show');
      }
    });
  </script>
</head>

<body>
  <div class="sidebar" id="main">
    <div class="logo_content">
      <div class="logo">
        <i class="bx bxl-android"></i>
        <div class="logo_name">Voila Sailor</div>
      </div>
      <i class="bx bx-menu" id="btn"></i>
    </div>

    <ul class="nav_list">
      <li>
        <a href="#">
          <i class="bx bx-search"></i>
          <input type="text" placeholder="Search....." />
        </a>
        <span class="tooltip">Search</span>
      </li>

      <li>
        <a href="{% url 'driverReq' %}">
          <i class="bx bxs-car"></i>
          <span class="links_name">Driver Request</span>
        </a>
        <span class="tooltip">Driver Request</span>
      </li>

      <li>
        <a href="#">
          <i class="bx bx-restaurant"></i>
          <span class="links_name">Restaurant Request</span>
        </a>
        <span class="tooltip">Res Request</span>
      </li>

      <li>
        <a href="#">
          <i class="bx bxs-bell"></i>
          <span class="links_name">Notification</span>
        </a>
        <span class="tooltip">Notification</span>
      </li>

      <li>
        <a href="#">
          <i class="bx bx-cog"></i>
          <span class="links_name">Settings</span>
        </a>
        <span class="tooltip">Settings</span>
      </li>

      <li>
        <a href="#">
          <i class="bx bxs-help-circle"></i>
          <span class="links_name">Help</span>
        </a>
        <span class="tooltip">Help</span>
      </li>
    </ul>

    <div class="profile_content">
      <div class="profile">
        <div class="profile_details">
          <img src="" alt="" />
          <div class="name_job">
            <div class="name">Aniket Suryawanshi</div>
            <div class="job">Android Developer</div>
          </div>
        </div>
        <i class="bx bx-log-out" id="log_out"></i>
      </div>
    </div>
  </div>

  <!-- navigation bar -->
  <div class="navigation_bar">
    <nav class="navbar">
      <div class="container-fluid" id="navigation_div">
        <a class="navbar-brand">Driver Request</a>
        <i class="bx bx-menu"></i>
        <a class="nanbar-user">Aniket Suryawanshi</a>
      </div>
    </nav>
  </div>

  <!-- card view to show all driver information -->
  <section class="parenttab">
    <div class="">

      <ul class="nav nav-pills option_tab" id="myTab" role="tablist">

        <li class="nav-item">
          <a class="nav-link active" data-toggle="tab" href="#new">Basic Information</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" data-toggle="tab" href="#progress">Address Information</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="tab" href="#verified">KYC Details</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="tab" href="#rejected">Vehicle Information</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="tab" href="#vehicledocument">Vehicle Document</a>
        </li>
      </ul>

      <div class="row tab-content">
        <!-- Basic Information -->
        <div class="table_parent_div col-lg-11 col-md-11 tab-pane active" style="padding-bottom: 3%" id="new">
          <div class="basic_info_card" id="menu3">
            {% for i in data %}
            <div class="input-group">
              <label>Full Name</label>
              <input type="text" value="{{i.full_name}}" /><br /><br />

              <label>Email</label>
              <input type="text" value="{{i.email}}" /><br /><br />

              <label>Contact Number</label>
              <input type="text" value="{{i.contact_number}}" /><br /><br />

              <label>Date of Birth </label>
              <input type="text" value="{{i.date_of_birth}}" /><br /><br />

            </div>
            <div>
              {% if messages %}
              {% for message in messages %}
              {% if message.tags == "error"%}
                  <li{% if message.tags %} class="{{ message.tags }}" {% endif %} style="color: red; margin-left: 10px;">{{message }}</li>
              {% else %}
                  <li style="color: green; margin-left: 10px;">{{ message }}</li>
                {% endif %}
                {% endfor %}
                {% endif %}
            </div>
            <a href="{% url 'verifyBasicInfo' i.request_token driverid %}">
              <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px">
                Verify
              </p>
            </a>
            {% endfor %}
          </div>
        </div>

        <!-- Address -->
        <div class="table_parent_div col-lg-11 col-md-11 tab-pane fade in" style="padding-bottom: 3%" id="progress">
          <div class="table_card" id="menu3">
            {% for i in data %}
            <div class="input-group">
              <label>House Number</label>
              <input type="text" value="{{i.house_number}}" /><br /><br />

              <label>Building Name</label>
              <input type="text" value="{{i.building_name}}" /><br /><br />

              <label>Street Name</label>
              <input type="text" value="{{i.street_name}}" /><br /><br />

              <label>Landmark</label>
              <input type="text" value="{{i.landmark}}" /><br /><br />

              <label>state</label>
              <input type="text" value="{{i.state}}" /><br /><br />

              <label>District</label>
              <input type="text" value="{{i.district}}" /><br /><br />

              <label>Pin Code</label>
              <input type="text" value="{{i.pin_code}}" /><br /><br />
            </div>
            <div>
              {% if messages %}
              {% for message in messages %}
              {% if message.tags == "error"%}
                <li{% if message.tags %} class="{{ message.tags }}" {% endif %} style="color: red; margin-left: 10px;">{{message }}</li>
                {% else %}
                 <li style="color: green; margin-left: 10px;">{{ message }}</li>
               {% endif %}
                {% endfor %}
                {% endif %}
            </div>
            <a href="{% url 'verifyAddressInfo' i.request_token driverid %}">
              <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px">
                Verify
              </p>
            </a>
            {% endfor %}
          </div>
        </div>

        <!-- KYC Details -->
        <div class="table_parent_div col-lg-11 col-md-11 tab-pane fade in" style="padding-bottom: 3%" id="verified">
          <div class="table_card" id="menu3">
            <figure>
              <h2 style="margin-left: 20px">Aadhar Front Photo</h2>
              <img src="{{finaldata.aadhar_front_photo}}" alt="abc"
                style="width: 500px; height: 500px; margin-left: 25px; border: 2px solid #000;" />
                <a href="{% url 'rejectKYCDocument' 'aadhar_front_photo' driverid %}">
                  <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px; margin-top: 10px; background-color: red;">
                    Reject
                  </p>
                </a>
                <a >
                  <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px; margin-top: -45px; float: right; background-color: green;">
                    Verified
                  </p>
                </a>    
            </figure>

            <figure>
              <h2 style="margin-left: 20px">Aadhar Back Photo</h2>
              <img src="{{finaldata.aadhar_back_photo}}" alt=""
                style="width: 500px; height: 500px; margin-left: 25px; border: 2px solid #000;" />
                <a href="{% url 'rejectKYCDocument' 'aadhar_back_photo' driverid %}">
                  <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px; margin-top: 10px; background-color: red;">
                    Reject
                  </p>
                </a> 
                <a >
                  <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px; margin-top: -45px; float: right; background-color: green;">
                    Verified
                  </p>
                </a>  
            </figure>

            <figure>
              <h3 style="margin-left: 20px">Licence Front Photo</h3>
              <img src="{{finaldata.licence_front_photo}}" alt=""
                style="width: 500px; height: 500px; margin-left: 25px; border: 2px solid #000;" />
                <a href="{% url 'rejectKYCDocument' 'licence_front_photo' driverid %}">
                  <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px; margin-top: 10px; background-color: red;">
                    Reject
                  </p>
                </a>
                <a >
                  <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px; margin-top: -45px; float: right; background-color: green;">
                    Verified
                  </p>
                </a>    
            </figure>

            <figure>
              <h3 style="margin-left: 25px">Licence Back Photo</h3>
              <img src="{{finaldata.licence_back_photo}}" alt=""
                style="width: 500px; height: 500px; margin-left: 25px; border: 2px solid #000;" />
                <a href="{% url 'rejectKYCDocument' 'licence_back_photo' driverid %}">
                  <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px; margin-top: 10px; background-color: red;">
                    Reject
                  </p>
                </a>  
                <a >
                  <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px; margin-top: -45px; float: right; background-color: green;">
                    Verified
                  </p>
                </a>  
            </figure>

            <figure>
              <h3 style="margin-left: 20px">Passport Size Photo</h3>
              <img src="{{finaldata.passport_size_photo}}" alt=""
                style="width: 500px; height: 500px; margin-left: 25px; border: 2px solid #000;" />
                <a href="{% url 'rejectKYCDocument' 'passport_size_photo' driverid %}">
                  <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px; margin-top: 10px; background-color: red;">
                    Reject
                  </p>
                </a>
                <a > 
                  <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px; margin-top: -45px; float: right; background-color: green;">
                    Verified
                  </p>
                </a>      
            </figure>
            <a href="{% url 'verifyKYCDocument' %}">
              <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px; align-items: center;">
                Submit
              </p>
            </a>
          </div>
        </div>

        <!-- Vehicle Information -->
        <div class="table_parent_div col-lg-11 col-md-11 tab-pane fade in" style="padding-bottom: 3%" id="rejected">
          <div class="table_card" id="menu3">
            {% for i in data %}

            <div class="input-group">
              <label>Vehicle RTO Registration Number</label>
              <input type="text" value="{{i.vehicle_RTO_registration_number}}" /><br /><br />

              <label>Vehicle RC Number</label>
              <input type="text" value="{{i.vehicle_rc_number}}" /><br /><br />

              <label>Vehicle Color</label>
              <input type="text" value="{{i.vehicle_colour}}" /><br /><br />

              <label>Vehicle Make Year</label>
              <input type="text" value="{{i.vehicle_make_year}}" /><br /><br />

              <label>Vehicle Type</label>
              <input type="text" value="{{i.vehicle_type}}" /><br /><br />
            </div>

            {% endfor %}
            <a href="{% url 'verifyVehicleInfo' %}">
              <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px">
                Verify
              </p>
            </a>
          </div>
        </div>

        <!-- Vehicle Document -->
        <div class="table_parent_div col-lg-11 col-md-11 tab-pane fade in" style="padding-bottom: 3%"
          id="vehicledocument">
          <div class="table_card" id="menu3">
            <figure>
              <h2 style="margin-left: 20px">Vehicle Front Photo</h2>
              {% if finaldata %}
              <img src="{{finaldata.vehicle_front_photo}}" alt="abc"
                style="width: 500px; height: 500px; margin-left: 25px;  border: 2px solid #000;" />
              {% else %}
              <h1>Image not found</h1>
              {% endif %}
            </figure>

            <figure>
              <h2 style="margin-left: 20px">Vehicle Back Photo</h2>
              <img src="{{finaldata.vehicle_back_photo}}" alt=""
                style="width: 500px; height: 500px; margin-left: 25px; border: 2px solid #000;" />
            </figure>

            <figure>
              <h3 style="margin-left: 20px">Vehicle Left Photo</h3>
              <img src="{{finaldata.vehicle_left_photo}}" alt=""
                style="width: 500px; height: 500px; margin-left: 25px; border: 2px solid #000;" />
            </figure>

            <figure>
              <h3 style="margin-left: 25px">Vehicle Right Photo</h3>
              <img src="{{finaldata.vehicle_right_photo}}" alt=""
                style="width: 500px; height: 500px; margin-left: 25px; border: 2px solid #000;" />
            </figure>

            <figure>
              <h3 style="margin-left: 20px">Vehicle RC</h3>
              <img src="{{finaldata.vehicle_rc}}" alt=""
                style="width: 500px; height: 500px; margin-left: 25px; border: 2px solid #000;" />
            </figure>

            <figure>
              <h3 style="margin-left: 20px">Vehicle Insurance</h3>
              <img src="{{finaldata.vehicle_insurance}}" alt=""
                style="width: 500px; height: 500px; margin-left: 25px; border: 2px solid #000;" />
            </figure>

            <figure>
              <h3 style="margin-left: 20px">Vehicle Permit</h3>
              <img src="{{finaldata.vehicle_permit}}" alt=""
                style="width: 500px; height: 500px; margin-left: 25px; border: 2px solid #000;" />
            </figure>
            <a href="{% url 'verifyVehicleDocument' %}">
              <p id="rcorners1" class="button" style="margin-left: 25px; font-weight: 10px">
                Verify and Next
              </p>
            </a>
          </div>
        </div>

      </div>
    </div>
  </section>
  <!-- scripts -->
  <script>
    let btn = document.querySelector("#btn");
    let sidebar = document.querySelector(".sidebar");
    let searchBtn = document.querySelector(".bx-search");
    let handle_click1 = document.querySelector(".button");

    btn.onclick = function () {
      sidebar.classList.toggle("active");
    };
    searchBtn.onclick = function () {
      sidebar.classList.toggle("active");
    };

    $('#myTab a').click(function (e) {
      e.preventDefault();
      $(this).tab('show');
    });

    // store the currently selected tab in the hash value
    $("ul.nav-tabs > li > a").on("shown.bs.tab", function (e) {
      var id = $(e.target).attr("href").substr(1);
      window.location.hash = id;
    });

    // on load of the page: switch to the currently selected tab
    var hash = window.location.hash;
    $('#myTab a[href="' + hash + '"]').tab('show');
  </script>

</body>

</html>